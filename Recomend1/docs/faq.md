# FAQ・トラブルシューティング

## Q1. 類似度計算がうまくいかない/エラーになる
- 顔画像のサイズやフォーマットが揃っているか確認
- 顔検出モデルや特徴抽出モデルのパス・重みファイルが正しいか確認
- 類似度計算時にNaNやinfが出る場合は、正規化や0除算対策を見直す

## Q2. レコメンド結果が少なすぎる/多すぎる
- 類似度の閾値（SIMILARITY_THRESHOLD）を調整
- 推しキャラ数やジャンル好みの重みを調整

## Q3. 新しいアニメやキャラを追加したい
- data/配下のCSVに新規行を追加し、必要に応じて平均顔・特徴量も再計算

## Q4. Dockerで動かない
- requirements.txtのパッケージが最新か確認
- データファイルのパス（data/配下）が正しいか確認

## Q5. 顔検出がうまくいかない
- 入力画像の解像度や顔の向き、明るさを調整
- アニメ顔専用モデル（AnimeFaceDetector等）を使う

## Q6. 類似度やスコアの重みはどう決める？
- main.py内のALPHA, BETA, GAMMA, DELTA, ジャンル好みスコアの係数を色々試して最適化
- A/Bテストやユーザーフィードバックを活用 