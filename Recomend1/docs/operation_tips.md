# 実運用・データ拡張Tips

## 1. データ拡張のポイント
- 新しいアニメやキャラを追加する場合、data/配下のCSVに新規行を追加
- 新キャラの顔画像を用意し、平均顔・特徴量も再計算
- レビューやジャンル情報も随時更新
- データ量が増えるときは、CSVをDB（例: SQLite, PostgreSQL）に置き換えるのも有効

## 2. パフォーマンス改善
- 類似度計算や特徴抽出はバッチ処理でまとめて実行
- 顔画像の前処理（リサイズ・アライメント）を事前に済ませておく
- 類似度計算や集計処理はPandasやNumPyのベクトル演算を活用
- データが大規模化したら、分散処理（Dask, Spark等）も検討

## 3. Docker運用のコツ
- requirements.txtを最新に保つ
- データファイルはdata/配下に統一し、DockerfileでCOPYする
- Dockerイメージのキャッシュを活用し、ビルド時間短縮
- 本番運用時はボリュームマウントでデータ永続化

## 4. 精度向上・運用改善の工夫
- 合成スコアの重み（ALPHA, BETA, GAMMA, DELTA, ジャンル好みスコア）をA/Bテストやユーザーフィードバックで最適化
- 類似度の閾値を動的に調整し、推しキャラ数や多様性を確保
- レコメンド理由を明示し、ユーザーの納得感を高める
- サンプル出力や可視化（グラフ・ヒートマップ等）で運用状況を把握

## 5. セキュリティ・プライバシー
- 顔画像や特徴量データの取り扱いには十分注意（暗号化・アクセス制限）
- ユーザーの同意を得てデータを利用

## 6. その他
- バックアップ・バージョン管理を徹底
- ドキュメント（README, FAQ, 用語集等）を常に最新に保つ
- 新しい技術や論文も定期的にキャッチアップ 